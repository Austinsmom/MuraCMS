function getHTMLEditorConfig(a){var b="";var c={toolbar:"htmlEditor",customConfig:"config.js.cfm"};if(typeof a=="object"){c=extendObject(c,a)}return c}function extendObject(a,b){for(var c in b){a[c]=b[c]}return a}function htmlEditorOnComplete(a){if(htmlEditorType=="fckeditor"){a.ResetIsDirty();var b=FCKeditorAPI.Instances}else{var c=jQuery(a).ckeditorGet();c.resetDirty();var b=CKEDITOR.instances}}function setHTMLEditors(a,b){var c=document.getElementsByTagName("textarea");var d=new Array;for(i=0;i<c.length;i++){if(c[i].className.toLowerCase()=="htmleditor"){if(htmlEditorType=="fckeditor"){var e=new FCKeditor(c[i].id);e.ToolbarSet="htmlEditor";e.Config.EditorAreaCSS=themepath+"/css/editor.css";e.Config.StylesXmlPath=themepath+"/css/fckstyles.xml";e.BasePath=context+"/wysiwyg/";e.Height=a;e.Width=b;e.Config.ImageBrowser=false;e.Config.ImageUpload=false;e.Config.ForcePasteAsPlainText=true;e.Config.StartupFocus=false;e.ReplaceTextarea();d.push(e)}else{var f=CKEDITOR.instances[c[i].id];if(f){CKEDITOR.remove(f)}if(jQuery("#"+c[i].id).html()==""){jQuery("#"+c[i].id).html("<p></p>")}jQuery("#"+c[i].id).ckeditor(getHTMLEditorConfig({height:a,width:b}),htmlEditorOnComplete)}}}}function fadeToggle(a){if(jslib=="jquery"){$("#"+a).animate({opacity:"toggle"})}else{Effect.toggle(a,"appear")}}function setKeyCheck(){document.onkeydown=keyCheck}function keyCheck(a){var b=window.event?event.keyCode:a.keyCode;if(typeof pressed_keys=="undefined"){pressed_keys=""}if(b==27){pressed_keys=b}else if(b==76){pressed_keys=pressed_keys+""+b}if(b!=27&&b!=76){pressed_keys=""}if(pressed_keys!=""){var c=pressed_keys;if(c.indexOf("2776")!=-1&&location.search.indexOf("display=login")==-1){if(typeof loginURL=="undefined"){lu="?display=login"}else{lu=loginURL}if(typeof returnURL=="undefined"){ru=location.href}else{ru=returnURL}pressed_keys="";lu=new String(lu);if(lu.indexOf("?")!=-1){location.href=lu+"&returnUrl="+escape(ru)}else{location.href=lu+"?returnUrl="+escape(ru)}}}}function addUnloadEvent(a){var b=window.onunload;if(typeof window.onunload!="function"){window.onunload=a}else{window.onunload=function(){b();a()}}}function addLoadEvent(a){var b=window.onload;if(typeof window.onload!="function"){window.onload=a}else{window.onload=function(){b();a()}}}function setImageOffSets(a,b,c){if(b=="class"){var d=document.getElementsByClassName(c)}else{var d=new Array(1);d[0]=document.getElementById(c)}if(d[0]!=null){for(var e=0;e<d.length;e++){var f=d[e].getElementsByTagName("DL");for(var g=0;g<f.length;g++){var h=null;if(f[g].getElementsByTagName("DD").length>0){var i=f[g].getElementsByTagName("DD")[0];if(i.getElementsByTagName("IMG").length>0){h=i.getElementsByTagName("IMG")[0]}else if(i.getElementsByTagName("P").length>0){var j=i.getElementsByTagName("P");for(var e=0;e<j.length;e++){if(j[e].getElementsByTagName("IMG").length>0){h=j[e].getElementsByTagName("IMG")[0];break}}}if(h!=null){title=new Element.extend(f[g].getElementsByTagName("DT")[0]);h.onload=function(){var b=0;if(this.parentNode.parentNode.getElementsByTagName("DT")[0]!=undefined){var c=new Element.extend(this.parentNode.parentNode)}else{var c=new Element.extend(this.parentNode.parentNode.parentNode)}var d=new Element.extend(c.getElementsByTagName("DT")[0]);b=d.getHeight();var e=c.getElementsByTagName("DD")[0].getElementsByTagName("P");if(e.length){for(var f=0;f<e.length;f++){if(e[f].getElementsByTagName("IMG").length){break}else{var g=new Element.extend(e[f]);g.style.marginLeft=this.width+a+"px";b=b+g.getHeight()+g.style.marginBottom+g.style.marginTop}}}d.style.marginLeft=this.width+a+"px";this.style.marginTop=-b+"px";this.style.float="left"}}}}}}}function setMuraImageOffSets(a){setImageOffSets(a,"class","syndLocal");setImageOffSets(a,"id","portal")}function eraseCookie(a){createCookie(a,"",-1)}function readCookie(a){var b=a+"=";var c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];while(e.charAt(0)==" ")e=e.substring(1,e.length);if(e.indexOf(b)==0)return unescape(e.substring(b.length,e.length))}return""}function createCookie(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+c*24*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"}function isMacIE5(){var a=navigator.userAgent.toLowerCase();var b=a.indexOf("msie")!=-1;var c=a.indexOf("mac")!=-1;if(c&&b){return false}else{return true}}function submitForm(a,b,c){if(validateForm(a)){if(typeof b!="undefined"&&(b=="delete"&&confirm("Delete "+c+"?")||b!="delete")){var d=a.getElementsByTagName("input");for(f=0;f<d.length;f++){if(d[f].getAttribute("name")=="action"){d[f].setAttribute("value",b)}}}a.submit();formSubmitted=true}return false}function getURLVar(a){var b=String(document.location).split("?");var c="";if(b[1]){var d=b[1].split("&");for(i=0;i<=d.length;i++){if(d[i]){var e=d[i].split("=");if(e[0]&&e[0]==a){c=e[1]}}}}return unescape(c)}function validateForm(a){var b="";var c=0;var d=false;var e;var g;var h="";var i=a.getElementsByTagName("input");for(f=0;f<i.length;f++){theField=i[f];h=getValidationType(theField);if(theField.style.display==""){if(getValidationIsRequired(theField)&&theField.value==""){if(!d){d=true;e=f;g="input"}b+=getValidationMessage(theField," is required.")}else if(h!=""){if(h=="EMAIL"&&theField.value!=""&&!isEmail(theField.value)){if(!d){d=true;e=f;g="input"}b+=getValidationMessage(theField," must be a valid email address.")}else if(h=="NUMERIC"&&isNaN(theField.value)){if(!isNaN(theField.value.replace(/\$|\,|\%/g,""))){theField.value=theField.value.replace(/\$|\,|\%/g,"")}else{if(!d){d=true;e=f;g="input"}b+=getValidationMessage(theField," must be numeric.")}}else if(h=="REGEX"&&theField.value!=""&&hasValidationRegex(theField)){var j=new RegExp(getValidationRegex(theField));if(!theField.value.match(j)){if(!d){d=true;e=f;g="input"}b+=getValidationMessage(theField," is not valid.")}}else if(h=="MATCH"&&hasValidationMatchField(theField)&&theField.value!=a[getValidationMatchField(theField)].value){if(!d){d=true;e=f;g="input"}b+=getValidationMessage(theField," must match"+getValidationMatchField(theField)+".")}else if(h=="DATE"&&theField.value!=""&&!isDate(theField.value)){if(!d){d=true;e=f;g="input"}b+=getValidationMessage(theField," must be a valid date [MM/DD/YYYY].")}}}}var k=a.getElementsByTagName("textarea");for(f=0;f<k.length;f++){theField=k[f];h=getValidationType(theField);if(theField.style.display==""&&getValidationIsRequired(theField)&&theField.value==""){if(!d){d=true;e=f;g="textarea"}b+=getValidationMessage(theField," is required.")}else if(h!=""){if(h=="REGEX"&&theField.value!=""&&hasValidationRegex(theField)){var j=new RegExp(getValidationRegex(theField));if(!theField.value.match(j)){if(!d){d=true;e=f;g="input"}b+=getValidationMessage(theField," is not valid.")}}}}var l=a.getElementsByTagName("select");for(f=0;f<l.length;f++){theField=l[f];h=getValidationType(theField);if(theField.style.display==""&&getValidationIsRequired(theField)&&theField.options[theField.selectedIndex].value==""){if(!d){d=true;e=f;g="select"}b+=getValidationMessage(theField," is required.")}}if(b!=""){alert(b);if(g=="input"){i[e].focus()}else if(g=="textarea"){k[e].focus()}else if(g=="select"){l[e].focus()}return false}else{return true}}function getValidationRegex(a){if(a.getAttribute("data-regex")!=undefined){return a.getAttribute("data-regex")}else if(a.getAttribute("regex")!=undefined){return a.getAttribute("regex")}else{return""}}function hasValidationRegex(a){if(a.value!=undefined){if(a.getAttribute("data-regex")!=undefined&&a.getAttribute("data-regex")!=""){return true}else if(a.getAttribute("regex")!=undefined&&a.getAttribute("regex")!=""){return true}}else{return false}}function getValidationMatchField(a){if(a.getAttribute("data-matchfield")!=undefined){return a.getAttribute("data-matchfield")}else if(a.getAttribute("matchfield")!=undefined){return a.getAttribute("matchfield")}else{return""}}function hasValidationMatchField(a){if(a.getAttribute("data-matchfield")!=undefined&&a.getAttribute("data-matchfield")!=""){return true}else if(a.getAttribute("matchfield")!=undefined&&a.getAttribute("matchfield")!=""){return true}else{return false}}function getValidationType(a){if(a.getAttribute("data-validate")!=undefined){return a.getAttribute("data-validate").toUpperCase()}else if(a.getAttribute("validate")!=undefined){return a.getAttribute("validate").toUpperCase()}else{return""}}function getValidationMessage(a,b){if(a.getAttribute("data-message")!=undefined){return a.getAttribute("data-message")+"\n"}else if(a.getAttribute("message")!=undefined){return a.getAttribute("message")+"\n"}else{return getValidationFieldName(a).toUpperCase()+b+"\n"}}function getValidationIsRequired(a){if(a.getAttribute("data-required")!=undefined){return a.getAttribute("data-required").toLowerCase()=="true"}else if(a.getAttribute("required")!=undefined){return a.getAttribute("required").toLowerCase()=="true"}else{return false}}function getValidationFieldName(a){if(a.getAttribute("data-label")!=undefined){return a.getAttribute("data-label")}else if(a.getAttribute("label")!=undefined){return a.getAttribute("label")}else{return a.getAttribute("name")}}function validate(a){return validateForm(a)}function isEmail(a){var b=a;if(b.indexOf("@")==-1||b.indexOf(".")==-1){return false}else{return true}}function isDate(a,b){var c=DaysArray(12);var d=a.split(dtCh);if(d.length!=3){return false}var e=d[dtFormat[0]];var f=d[dtFormat[1]];var g=d[dtFormat[2]];strYr=g;if(f.charAt(0)=="0"&&f.length>1)f=f.substring(1);if(e.charAt(0)=="0"&&e.length>1)e=e.substring(1);for(var h=1;h<=3;h++){if(strYr.charAt(0)=="0"&&strYr.length>1)strYr=strYr.substring(1)}month=parseInt(e);day=parseInt(f);year=parseInt(strYr);if(month<1||month>12){return false}if(day<1||day>31||month==2&&day>daysInFebruary(year)||day>c[month]){return false}if(g.length!=4||year==0||year<minYear||year>maxYear){return false}if(isInteger(stripCharsInBag(a,dtCh))==false){return false}return true}function DaysArray(a){for(var b=1;b<=a;b++){this[b]=31;if(b==4||b==6||b==9||b==11){this[b]=30}if(b==2){this[b]=29}}return this}function daysInFebruary(a){return a%4==0&&(!(a%100==0)||a%400==0)?29:28}function stripCharsInBag(a,b){var c;var d="";for(c=0;c<a.length;c++){var e=a.charAt(c);if(b.indexOf(e)==-1)d+=e}return d}function dateToString(a){var b=a.getMonth()+1;var c=a.getDate();var d=a.getFullYear();if(b<10){b="0"+b}if(c<10){c="0"+c}return b+"/"+c+"/20"+(new String(d)).substring(2,4)}function createDate(a){var b=a.split("/");var c=b[0];var d=b[1];var e=b[2];var f=new Date(e,c-1,d);if(!isNaN(f.getMonth())){return f}else{return new Date}}function isInteger(a){var b;for(b=0;b<a.length;b++){var c=a.charAt(b);if(c<"0"||c>"9")return false}return true}function noSpam(a,b){locationstring="mailto:"+a+"@"+b;window.location=locationstring}var dtCh="/";var dtCh="/";var minYear=1900;var maxYear=2100;var dtFormat=[0,1,2];var dtExample="12/31/2014";sfHover=function(){if(document.getElementById("navPrimary")!=undefined){var a=document.getElementById("navPrimary").getElementsByTagName("LI");for(var b=0;b<a.length;b++){a[b].onmouseover=function(){this.className+=" sfhover"};a[b].onmouseout=function(){this.className=this.className.replace(new RegExp(" sfhover\\b"),"")}}}};if(window.attachEvent)window.attachEvent("onload",sfHover);var HTMLEditorLoadCount=0;addLoadEvent(setKeyCheck)