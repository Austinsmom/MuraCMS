function MuraSelectionWrapper(a,b){this.selection=a;var a=a;this.selection.length?(this.parentNode=this.selection[0].parentNode,this.childNodes=this.selection[0].childNodes,this.node=a[0]):(this.parentNode=null,this.childNodes=null,this.node=null)}Object.getPrototypeOf||(Object.getPrototypeOf=function(a){if(a!==Object(a))throw TypeError("Object.getPrototypeOf called on non-object");return a.__proto__||a.constructor.prototype||Object.prototype}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(a){if(a!==Object(a))throw TypeError("Object.getOwnPropertyNames called on non-object");var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}),"function"!=typeof Object.create&&(Object.create=function(a,b){function c(){}if("object"!=typeof a)throw TypeError();c.prototype=a;var d=new c;if(a&&(d.constructor=c),void 0!==b){if(b!==Object(b))throw TypeError();Object.defineProperties(d,b)}return d}),function(){if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(a){return!1}}()){var a=Object.defineProperty;Object.defineProperty=function(b,c,d){if(a)try{return a(b,c,d)}catch(e){}if(b!==Object(b))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in d&&Object.prototype.__defineGetter__.call(b,c,d.get),Object.prototype.__defineSetter__&&"set"in d&&Object.prototype.__defineSetter__.call(b,c,d.set),"value"in d&&(b[c]=d.value),b}}}(),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(a,b){if(a!==Object(a))throw TypeError("Object.defineProperties called on non-object");var c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&Object.defineProperty(a,c,b[c]);return a}),Object.keys||(Object.keys=function(a){if(a!==Object(a))throw TypeError("Object.keys called on non-object");var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}),Function.prototype.bind||(Function.prototype.bind=function(a){function b(){}if("function"!=typeof this)throw TypeError("Bind must be called on a function");var c=[].slice,d=c.call(arguments,1),e=this,f=function(){return e.apply(this instanceof b?this:a,d.concat(c.call(arguments)))};return b.prototype=e.prototype,f.prototype=new b,f}),Array.isArray=Array.isArray||function(a){return Boolean(a&&"[object Array]"===Object.prototype.toString.call(Object(a)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),isNaN(d)?d=0:0!==d&&d!==1/0&&d!==-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=c;arguments.length>1&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==1/0&&d!==-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d))));for(var e=d>=0?Math.min(d,c-1):c-Math.abs(d);e>=0;e--)if(e in b&&b[e]===a)return e;return-1}),Array.prototype.every||(Array.prototype.every=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw TypeError();var d,e=arguments[1];for(d=0;c>d;d++)if(d in b&&!a.call(e,b[d],d,b))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw TypeError();var d,e=arguments[1];for(d=0;c>d;d++)if(d in b&&a.call(e,b[d],d,b))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw TypeError();var d,e=arguments[1];for(d=0;c>d;d++)d in b&&a.call(e,b[d],d,b)}),Array.prototype.map||(Array.prototype.map=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw TypeError();var d=[];d.length=c;var e,f=arguments[1];for(e=0;c>e;e++)e in b&&(d[e]=a.call(f,b[e],e,b));return d}),Array.prototype.filter||(Array.prototype.filter=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw TypeError();var d,e=[],f=arguments[1];for(d=0;c>d;d++)if(d in b){var g=b[d];a.call(f,g,d,b)&&e.push(g)}return e}),Array.prototype.reduce||(Array.prototype.reduce=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw TypeError();if(0===c&&1===arguments.length)throw TypeError();var d,e=0;if(arguments.length>=2)d=arguments[1];else for(;;){if(e in b){d=b[e++];break}if(++e>=c)throw TypeError()}for(;c>e;)e in b&&(d=a.call(void 0,d,b[e],e,b)),e++;return d}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw TypeError();if(0===c&&1===arguments.length)throw TypeError();var d,e=c-1;if(arguments.length>=2)d=arguments[1];else for(;;){if(e in this){d=this[e--];break}if(--e<0)throw TypeError()}for(;e>=0;)e in b&&(d=a.call(void 0,d,b[e],e,b)),e--;return d}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return Number(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function a(a){return("00"+a).slice(-2)}function b(a){return("000"+a).slice(-3)}return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+b(this.getUTCMilliseconds())+"Z"}),function(){"use strict";function a(a){return"function"==typeof a||"object"==typeof a&&null!==a}function b(a){return"function"==typeof a}function c(a){return"object"==typeof a&&null!==a}function d(a,b){Z[S]=a,Z[S+1]=b,S+=2,2===S&&(P?P(k):Q())}function e(a){P=a}function f(){var a=process.nextTick,b=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(b)&&"0"===b[1]&&"10"===b[2]&&(a=setImmediate),function(){a(k)}}function g(){return function(){O(k)}}function h(){var a=0,b=new W(k),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function i(){var a=new MessageChannel;return a.port1.onmessage=k,function(){a.port2.postMessage(0)}}function j(){return function(){setTimeout(k,1)}}function k(){for(var a=0;S>a;a+=2){var b=Z[a],c=Z[a+1];b(c),Z[a]=void 0,Z[a+1]=void 0}S=0}function l(){try{var a=require,b=a("vertx");return O=b.runOnLoop||b.runOnContext,g()}catch(c){return j()}}function m(){}function n(){return new TypeError("You cannot resolve a promise with itself")}function o(){return new TypeError("A promises callback cannot return that same promise.")}function p(a){try{return a.then}catch(b){return ba.error=b,ba}}function q(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function r(a,b,c){T(function(a){var d=!1,e=q(c,b,function(c){d||(d=!0,b!==c?u(a,c):w(a,c))},function(b){d||(d=!0,x(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,x(a,e))},a)}function s(a,b){b._state===_?w(a,b._result):b._state===aa?x(a,b._result):y(b,void 0,function(b){u(a,b)},function(b){x(a,b)})}function t(a,c){if(c.constructor===a.constructor)s(a,c);else{var d=p(c);d===ba?x(a,ba.error):void 0===d?w(a,c):b(d)?r(a,c,d):w(a,c)}}function u(b,c){b===c?x(b,n()):a(c)?t(b,c):w(b,c)}function v(a){a._onerror&&a._onerror(a._result),z(a)}function w(a,b){a._state===$&&(a._result=b,a._state=_,0!==a._subscribers.length&&T(z,a))}function x(a,b){a._state===$&&(a._state=aa,a._result=b,T(v,a))}function y(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+_]=c,e[f+aa]=d,0===f&&a._state&&T(z,a)}function z(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d,e,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?C(c,d,e,f):e(f);a._subscribers.length=0}}function A(){this.error=null}function B(a,b){try{return a(b)}catch(c){return ca.error=c,ca}}function C(a,c,d,e){var f,g,h,i,j=b(d);if(j){if(f=B(d,e),f===ca?(i=!0,g=f.error,f=null):h=!0,c===f)return void x(c,o())}else f=e,h=!0;c._state!==$||(j&&h?u(c,f):i?x(c,g):a===_?w(c,f):a===aa&&x(c,f))}function D(a,b){try{b(function(b){u(a,b)},function(b){x(a,b)})}catch(c){x(a,c)}}function E(a,b){var c=this;c._instanceConstructor=a,c.promise=new a(m),c._validateInput(b)?(c._input=b,c.length=b.length,c._remaining=b.length,c._init(),0===c.length?w(c.promise,c._result):(c.length=c.length||0,c._enumerate(),0===c._remaining&&w(c.promise,c._result))):x(c.promise,c._validationError())}function F(a){return new da(this,a).promise}function G(a){function b(a){u(e,a)}function c(a){x(e,a)}var d=this,e=new d(m);if(!R(a))return x(e,new TypeError("You must pass an array to race.")),e;for(var f=a.length,g=0;e._state===$&&f>g;g++)y(d.resolve(a[g]),void 0,b,c);return e}function H(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(m);return u(c,a),c}function I(a){var b=this,c=new b(m);return x(c,a),c}function J(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function K(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(a){this._id=ia++,this._state=void 0,this._result=void 0,this._subscribers=[],m!==a&&(b(a)||J(),this instanceof L||K(),D(this,a))}function M(){var a;if("undefined"!=typeof global)a=global;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(b){throw new Error("polyfill failed because global object is unavailable in this environment")}var c=a.Promise;(!c||"[object Promise]"!==Object.prototype.toString.call(c.resolve())||c.cast)&&(a.Promise=ja)}var N;N=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var O,P,Q,R=N,S=0,T=({}.toString,d),U="undefined"!=typeof window?window:void 0,V=U||{},W=V.MutationObserver||V.WebKitMutationObserver,X="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Y="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3);Q=X?f():W?h():Y?i():void 0===U&&"function"==typeof require?l():j();var $=void 0,_=1,aa=2,ba=new A,ca=new A;E.prototype._validateInput=function(a){return R(a)},E.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},E.prototype._init=function(){this._result=new Array(this.length)};var da=E;E.prototype._enumerate=function(){for(var a=this,b=a.length,c=a.promise,d=a._input,e=0;c._state===$&&b>e;e++)a._eachEntry(d[e],e)},E.prototype._eachEntry=function(a,b){var d=this,e=d._instanceConstructor;c(a)?a.constructor===e&&a._state!==$?(a._onerror=null,d._settledAt(a._state,b,a._result)):d._willSettleAt(e.resolve(a),b):(d._remaining--,d._result[b]=a)},E.prototype._settledAt=function(a,b,c){var d=this,e=d.promise;e._state===$&&(d._remaining--,a===aa?x(e,c):d._result[b]=c),0===d._remaining&&w(e,d._result)},E.prototype._willSettleAt=function(a,b){var c=this;y(a,void 0,function(a){c._settledAt(_,b,a)},function(a){c._settledAt(aa,b,a)})};var ea=F,fa=G,ga=H,ha=I,ia=0,ja=L;L.all=ea,L.race=fa,L.resolve=ga,L.reject=ha,L._setScheduler=e,L._asap=T,L.prototype={constructor:L,then:function(a,b){var c=this,d=c._state;if(d===_&&!a||d===aa&&!b)return this;var e=new this.constructor(m),f=c._result;if(d){var g=arguments[d-1];T(function(){C(d,e,g,f)})}else y(c,e,a,b);return e},"catch":function(a){return this.then(null,a)}};var ka=M,la={Promise:ja,polyfill:ka};"function"==typeof define&&define.amd?define(function(){return la}):"undefined"!=typeof module&&module.exports?module.exports=la:"undefined"!=typeof this&&(this.ES6Promise=la),ka()}.call(this),function(){function a(b,d){function f(a){if(f[a]!==q)return f[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=f("json-stringify")&&f("json-parse");else{var c,e='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var i=d.stringify,k="function"==typeof i&&t;if(k){(c=function(){return 1}).toJSON=c;try{k="0"===i(0)&&"0"===i(new g)&&'""'==i(new h)&&i(s)===q&&i(q)===q&&i()===q&&"1"===i(c)&&"[1]"==i([c])&&"[null]"==i([q])&&"null"==i(null)&&"[null,null,null]"==i([q,s,null])&&i({a:[c,!0,!1,null,"\x00\b\n\f\r	"]})==e&&"1"===i(null,c)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new j(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new j(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new j(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new j(-1))}catch(l){k=!1}}b=k}if("json-parse"==a){var m=d.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){c=m(e);var n=5==c.a.length&&1===c.a[0];if(n){try{n=!m('"	"')}catch(l){}if(n)try{n=1!==m("01")}catch(l){}if(n)try{n=1!==m("1.")}catch(l){}}}}catch(l){n=!1}b=n}}return f[a]=!!b}b||(b=e.Object()),d||(d=e.Object());var g=b.Number||e.Number,h=b.String||e.String,i=b.Object||e.Object,j=b.Date||e.Date,k=b.SyntaxError||e.SyntaxError,l=b.TypeError||e.TypeError,m=b.Math||e.Math,n=b.JSON||e.JSON;"object"==typeof n&&n&&(d.stringify=n.stringify,d.parse=n.parse);var o,p,q,r=i.prototype,s=r.toString,t=new j(-0xc782b5b800cec);try{t=-109252==t.getUTCFullYear()&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(u){}if(!f("json")){var v="[object Function]",w="[object Date]",x="[object Number]",y="[object String]",z="[object Array]",A="[object Boolean]",B=f("bug-string-char-index");if(!t)var C=m.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return D[b]+365*(a-1970)+C((a-1969+(b=+(b>1)))/4)-C((a-1901+b)/100)+C((a-1601+b)/400)};if((o=r.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=s?o=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var d,e,f,g=0;(d=function(){this.valueOf=0}).prototype.valueOf=0,e=new d;for(f in e)o.call(e,f)&&g++;return d=e=null,g?p=2==g?function(a,b){var c,d={},e=s.call(a)==v;for(c in a)e&&"prototype"==c||o.call(d,c)||!(d[c]=1)||!o.call(a,c)||b(c)}:function(a,b){var c,d,e=s.call(a)==v;for(c in a)e&&"prototype"==c||!o.call(a,c)||(d="constructor"===c)||b(c);(d||o.call(a,c="constructor"))&&b(c)}:(e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(a,b){var d,f,g=s.call(a)==v,h=!g&&"function"!=typeof a.constructor&&c[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(d in a)g&&"prototype"==d||!h.call(a,d)||b(d);for(f=e.length;d=e[--f];h.call(a,d)&&b(d));}),p(a,b)},!f("json-stringify")){var F={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},G="000000",H=function(a,b){return(G+(b||0)).slice(-a)},I="\\u00",J=function(a){for(var b='"',c=0,d=a.length,e=!B||d>10,f=e&&(B?a.split(""):a);d>c;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=F[g];break;default:if(32>g){b+=I+H(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},K=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,r,t,u,v,B,D,F,G,I,L;try{h=b[a]}catch(M){}if("object"==typeof h&&h)if(i=s.call(h),i!=w||o.call(h,"toJSON"))"function"==typeof h.toJSON&&(i!=x&&i!=y&&i!=z||o.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&1/0>h){if(E){for(m=C(h/864e5),j=C(m/365.2425)+1970-1;E(j+1,0)<=m;j++);for(k=C((m-E(j,0))/30.42);E(j,k+1)<=m;k++);m=1+m-E(j,k),n=(h%864e5+864e5)%864e5,r=C(n/36e5)%24,t=C(n/6e4)%60,u=C(n/1e3)%60,v=n%1e3}else j=h.getUTCFullYear(),k=h.getUTCMonth(),m=h.getUTCDate(),r=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),v=h.getUTCMilliseconds();h=(0>=j||j>=1e4?(0>j?"-":"+")+H(6,0>j?-j:j):H(4,j))+"-"+H(2,k+1)+"-"+H(2,m)+"T"+H(2,r)+":"+H(2,t)+":"+H(2,u)+"."+H(3,v)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if(i=s.call(h),i==A)return""+h;if(i==x)return h>-1/0&&1/0>h?""+h:"null";if(i==y)return J(""+h);if("object"==typeof h){for(G=g.length;G--;)if(g[G]===h)throw l();if(g.push(h),B=[],I=f,f+=e,i==z){for(F=0,G=h.length;G>F;F++)D=K(F,h,c,d,e,f,g),B.push(D===q?"null":D);L=B.length?e?"[\n"+f+B.join(",\n"+f)+"\n"+I+"]":"["+B.join(",")+"]":"[]"}else p(d||h,function(a){var b=K(a,h,c,d,e,f,g);b!==q&&B.push(J(a)+":"+(e?" ":"")+b)}),L=B.length?e?"{\n"+f+B.join(",\n"+f)+"\n"+I+"}":"{"+B.join(",")+"}":"{}";return g.pop(),L}};d.stringify=function(a,b,d){var e,f,g,h;if(c[typeof b]&&b)if((h=s.call(b))==v)f=b;else if(h==z){g={};for(var i,j=0,k=b.length;k>j;i=b[j++],h=s.call(i),(h==y||h==x)&&(g[i]=1));}if(d)if((h=s.call(d))==x){if((d-=d%1)>0)for(e="",d>10&&(d=10);e.length<d;e+=" ");}else h==y&&(e=d.length<=10?d:d.slice(0,10));return K("",(i={},i[""]=a,i),f,g,e,"",[])}}if(!f("json-parse")){var L,M,N=h.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},P=function(){throw L=M=null,k()},Q=function(){for(var a,b,c,d,e,f=M,g=f.length;g>L;)switch(e=f.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=B?f.charAt(L):f[L],L++,a;case 34:for(a="@",L++;g>L;)if(e=f.charCodeAt(L),32>e)P();else if(92==e)switch(e=f.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=O[e],L++;break;case 117:for(b=++L,c=L+4;c>L;L++)e=f.charCodeAt(L),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||P();a+=N("0x"+f.slice(b,L));break;default:P()}else{if(34==e)break;for(e=f.charCodeAt(L),b=L;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++L);a+=f.slice(b,L)}if(34==f.charCodeAt(L))return L++,a;P();default:if(b=L,45==e&&(d=!0,e=f.charCodeAt(++L)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(L+1),e>=48&&57>=e)&&P(),d=!1;g>L&&(e=f.charCodeAt(L),e>=48&&57>=e);L++);if(46==f.charCodeAt(L)){for(c=++L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}if(e=f.charCodeAt(L),101==e||69==e){for(e=f.charCodeAt(++L),(43==e||45==e)&&L++,c=L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}return+f.slice(b,L)}if(d&&P(),"true"==f.slice(L,L+4))return L+=4,!0;if("false"==f.slice(L,L+5))return L+=5,!1;if("null"==f.slice(L,L+4))return L+=4,null;P()}return"$"},R=function(a){var b,c;if("$"==a&&P(),"string"==typeof a){if("@"==(B?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=Q(),"]"!=a;c||(c=!0))c&&(","==a?(a=Q(),"]"==a&&P()):P()),","==a&&P(),b.push(R(a));return b}if("{"==a){for(b={};a=Q(),"}"!=a;c||(c=!0))c&&(","==a?(a=Q(),"}"==a&&P()):P()),(","==a||"string"!=typeof a||"@"!=(B?a.charAt(0):a[0])||":"!=Q())&&P(),b[a.slice(1)]=R(Q());return b}P()}return a},S=function(a,b,c){var d=T(a,b,c);d===q?delete a[b]:a[b]=d},T=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(s.call(e)==z)for(d=e.length;d--;)S(e,d,c);else p(e,function(a){S(e,a,c)});return c.call(a,b,e)};d.parse=function(a,b){var c,d;return L=0,M=""+a,c=R(Q()),"$"!=Q()&&P(),L=M=null,b&&s.call(b)==v?T((d={},d[""]=c,d),"",b):c}}}return d.runInContext=a,d}var b="function"==typeof define&&define.amd,c={"function":!0,object:!0},d=c[typeof exports]&&exports&&!exports.nodeType&&exports,e=c[typeof window]&&window||this,f=d&&c[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!f||f.global!==f&&f.window!==f&&f.self!==f||(e=f),d&&!b)a(e,d);else{var g=e.JSON,h=e.JSON3,i=!1,j=a(e,e.JSON3={noConflict:function(){return i||(i=!0,e.JSON=g,e.JSON3=h,g=h=null),j}});e.JSON={parse:j.parse,stringify:j.stringify}}b&&define(function(){return j})}.call(this),function(a,b){var c=function(b){(a.execScript||function(b){a.eval.call(a,b)})(b)},d=function(a,b){return a instanceof(b||Array)},e=document,f="getElementsByTagName",g="length",h="readyState",i="onreadystatechange",j=e[f]("script"),k=j[j[g]-1],l=k.innerHTML.replace(/^\s+|\s+$/g,"");if(!a.ljs){var m=k.src.match(/checkLoaded/)?1:0,n=e[f]("head")[0]||e.documentElement,o=function(a){var b={};return b.u=a.replace(/#(=)?([^#]*)?/g,function(a,c,d){return b[c?"f":"i"]=d,""}),b},p=function(a,b,c){var d,f=e.createElement(a);c&&(f[h]?f[i]=function(){("loaded"===f[h]||"complete"===f[h])&&(f[i]=null,c())}:f.onload=c);for(d in b)b[d]&&(f[d]=b[d]);n.appendChild(f)},q=function(a,b){if(this.aliases&&this.aliases[a]){var c=this.aliases[a].slice(0);return d(c)||(c=[c]),b&&c.push(b),this.load.apply(this,c)}if(d(a)){for(var e=a[g];e--;)this.load(a[e]);return b&&a.push(b),this.load.apply(this,a)}return a.match(/\.css\b/)?this.loadcss(a,b):this.loadjs(a,b)},r={},s={aliases:{},loadjs:function(a,c,d){if("object"==typeof a){if(Array.isArray(a))return s.load.apply(this,arguments);if("function"==typeof c)d=c,c={},a=c.href;else{if("string"==typeof c||"object"==typeof c&&Array.isArray(c))return s.load.apply(this,arguments);c=a,a=c.href,d=b}}else if("function"==typeof c)d=c,c={};else if("string"==typeof c||"object"==typeof c&&Array.isArray(c))return s.load.apply(this,arguments);"undefined"==typeof c&&(c={});for(var e=o(a),f=[["i","id"],["f","fallback"],["u","src"]],g=0;g<f.length;g++){var h=f[g];!(h[1]in c)&&h[0]in e&&(c[h[1]]=e[h[0]])}"undefined"==typeof c.type&&(c.type="text/javascript");var i={};for(var j in c)"fallback"!=j&&(i[j]=c[j]);return i.onerror=function(a){if(c.fallback){var b=a.currentTarget;b.parentNode.removeChild(b),i.src=c.fallback,p("script",c,d)}},r[i.src]===!0?(d&&d(),this):r[i.src]!==b?(d&&(r[i.src]=function(a,b){return function(){a&&a(),b&&b()}}(r[i.src],d)),this):(r[i.src]=function(a){return function(){r[i.src]=!0,a&&a()}}(d),d=function(){r[a]()},p("script",i,d),this)},loadcss:function(a,c,d){if("object"==typeof a){if(Array.isArray(a))return s.load.apply(this,arguments);if("function"==typeof c)d=c,c=a,a=c.href;else{if("string"==typeof c||"object"==typeof c&&Array.isArray(c))return s.load.apply(this,arguments);c=a,a=c.href,d=b}}else if("function"==typeof c)d=c,c={};else if("string"==typeof c||"object"==typeof c&&Array.isArray(c))return s.load.apply(this,arguments);var e=o(a);if(e={type:"text/css",rel:"stylesheet",href:a,id:e.i},"undefined"!=typeof c)for(var f in c)e[f]=c[f];return r[e.href]||p("link",e),r[e.href]=!0,d&&d(),this},load:function(){var a=arguments,c=a[g];return 1===c&&d(a[0],Function)?(a[0](),this):(q.call(this,a[0],1>=c?b:function(){s.load.apply(s,[].slice.call(a,1))}),this)},addAliases:function(a){for(var b in a)this.aliases[b]=d(a[b])?a[b].slice(0):a[b];return this}};if(m){var t,u,v,w;for(t=0,u=j[g];u>t;t++)(w=j[t].getAttribute("src"))&&(r[w.replace(/#.*$/,"")]=!0);for(v=e[f]("link"),t=0,u=v[g];u>t;t++)("stylesheet"===v[t].rel||"text/css"===v[t].type)&&(r[v[t].getAttribute("href").replace(/#.*$/,"")]=!0)}a.ljs=s}l&&c(l)}(window),MuraSelectionWrapper.prototype.ajax=function(a){return mura.ajax(a)},MuraSelectionWrapper.prototype.select=function(a){return mura(a)},MuraSelectionWrapper.prototype.each=function(a){return this.selection.forEach(function(b){a.call(b,b)}),this},MuraSelectionWrapper.prototype.on=function(a,b){return"ready"==a?"loading"!=document.readyState?b.call(document):document.addEventListener("DOMContentLoaded",function(a){b.call(el,a)},!0):this.each(function(c){"function"==typeof c.addEventListener&&c.addEventListener(a,function(a){b.call(c,a)},!0)}),this},MuraSelectionWrapper.prototype.length=function(){return this.selection.length},MuraSelectionWrapper.prototype.click=function(a){return this.on("click",a),this},MuraSelectionWrapper.prototype.ready=function(a){return this.on("ready",a),this},MuraSelectionWrapper.prototype.off=function(a){this.each(function(b){b.removeEventListener(a)})},MuraSelectionWrapper.prototype.unbind=function(a){this.off(a)},MuraSelectionWrapper.prototype.bind=function(a){this.on(a)},MuraSelectionWrapper.prototype.filter=function(a){return Array.prototype.filter.call(this.selection,filterFn),this},MuraSelectionWrapper.prototype.trigger=function(a){return this.each(function(b){mura.trigger(b,a)}),this},MuraSelectionWrapper.prototype.parent=function(){return this.selection.length?mura(this.selection[0].parentNode):void 0},MuraSelectionWrapper.prototype.children=function(){return this.selection.length?mura(this.selection[0].childNodes):void 0},MuraSelectionWrapper.prototype.siblings=function(){if(this.selection.length){var a=this.selection[0];return mura(Array.prototype.filter.call(a.parentNode.children,function(b){return b!==a}))}},MuraSelectionWrapper.prototype.filter=function(a){return mura.filter(this.selection,a)},MuraSelectionWrapper.prototype.find=function(a){return this.selection.length?mura(this.selection[0].querySelectorAll(a)):mura([])},MuraSelectionWrapper.prototype.item=function(a){return this.selection[a]},MuraSelectionWrapper.prototype.closest=function(a){if(!this.selection.length)return null;var b,c=this.selection[0];for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(a){return"function"==typeof document.body[a]?(b=a,!0):!1});null!==c;){if(parent=c.parentElement,null!==parent&&parent[b](a))return parent;c=parent}return null},MuraSelectionWrapper.prototype.append=function(a){return this.selection[0].parentNode.appendChild(a),this},MuraSelectionWrapper.prototype.appendMuraObject=function(a){var b=createElement("div");b.setAttribute("class","mura-async-object");for(var c in a)b.setAttribute("data-"+c,a[c]);return this.append(b),mura.processAsyncObject(this.node),b},MuraSelectionWrapper.prototype.prepend=function(a){return this.selection[0].parentNode.insertBefore(a,this.parentNode.firstChild),this},MuraSelectionWrapper.prototype.prependMuraObject=function(a){var b=createElement("div");b.setAttribute("class","mura-async-object");for(var c in a)b.setAttribute("data-"+c,a[c]);return this.prepend(b),mura.processAsyncObject(b),b},MuraSelectionWrapper.prototype.hide=function(){return this.each(function(a){a.style.display="none"}),this},MuraSelectionWrapper.prototype.show=function(){return this.each(function(a){a.style.display=""}),this},MuraSelectionWrapper.prototype.remove=function(){return this.each(function(a){a.parentNode.removeChild(a)}),this},MuraSelectionWrapper.prototype.addClass=function(a){return this.each(function(b){b.classList?b.classList.add(a):b.className+=" "+a}),this},MuraSelectionWrapper.prototype.hasClass=function(a){return this.is("."+a)},MuraSelectionWrapper.prototype.removeClass=function(a){return this.each(function(b){b.classList?b.classList.remove(a):b.className=b.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")}),this},MuraSelectionWrapper.prototype.toggleClass=function(a){return this.each(function(b){if(b.classList)b.classList.toggle(a);else{var c=b.className.split(" "),d=c.indexOf(a);d>=0?c.splice(d,1):c.push(a),b.className=c.join(" ")}}),this},MuraSelectionWrapper.prototype.after=function(a){return this.each(function(b){b.insertAdjacentHTML("afterend",a)}),this},MuraSelectionWrapper.prototype.before=function(a){return this.each(function(b){b.insertAdjacentHTML("beforebegin",a)}),this},MuraSelectionWrapper.prototype.empty=function(){return this.each(function(a){a.innerHTML=""}),this},MuraSelectionWrapper.prototype.html=function(a){return this.selection.length?"undefined"!=typeof a?(this.each(function(b){b.innerHTML=a}),this):this.selection[0].innerHTML:void 0},MuraSelectionWrapper.prototype.css=function(a,b){if(this.selection.length)if("undefined"==typeof rulename&&"undefined"==typeof b)try{return window.getComputedStyle(this.selection[0])}catch(c){return{}}else if("object"==typeof attributeName)this.each(function(a){try{for(var b in attributeName)a.style[b]=attributeName[b]}catch(c){}});else{if("undefined"!=typeof b)return this.each(function(c){try{c.style[a]=b}catch(d){}}),this;try{return window.getComputedStyle(this.selection[0])[a]}catch(c){}}},MuraSelectionWrapper.prototype.text=function(a){return"undefined"==typeof a?(this.each(function(b){b.textContent=a}),this):this.selection[0].textContent},MuraSelectionWrapper.prototype.is=function(a){if(!this.selection.length)return!1;var b=this.selection[0],c=function(a,b){return(a.matches||a.matchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.oMatchesSelector).call(a,b)};return c(b,a)},MuraSelectionWrapper.prototype.offsetParent=function(){if(this.selection.length){var a=this.selection[0];return a.offsetParent||a}},MuraSelectionWrapper.prototype.outerHeight=function(a){function b(a){var b=a.offsetHeight,c=window.getComputedStyle(a);return b+=parseInt(c.marginTop)+parseInt(c.marginBottom)}if(this.selection.length)return"undefined"==typeof a?b(this.selection[0]):this.selection[0].offsetHeight},MuraSelectionWrapper.prototype.height=function(a){if(this.selection.length){if("undefined"!=typeof width)return isNaN(a)||(a+="px"),this.css("height",a),this;var b=this.selection[0],c=b.constructor.name.toLowerCase();if("window"==c)return window.innerHeight;if("htmldocument"==c){var d=document.body,e=document.documentElement;return Math.max(d.scrollHeight,d.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)}var f=window.getComputedStyle(b),g=parseFloat(f.marginTop)+parseFloat(f.marginBottom);return Math.ceil(b.offsetHeight+g)}},MuraSelectionWrapper.prototype.width=function(a){if(this.selection.length){if("undefined"!=typeof a)return isNaN(a)||(a+="px"),this.css("width",a),this;var b=this.selection[0],c=b.constructor.name.toLowerCase();if("window"==c)return window.innerWidth;if("htmldocument"==c){var d=document.body,e=document.documentElement;return Math.max(d.scrollWidth,d.offsetWidth,e.clientWidth,e.scrolWidth,e.offsetWidth)}return window.getComputedStyle(b).width}},MuraSelectionWrapper.prototype.offset=function(){if(this.selection.length){var a=this.selection[0],b=a.getBoundingClientRect();return{top:b.top+document.body.scrollTop,left:b.left+document.body.scrollLeft}}},MuraSelectionWrapper.prototype.scrollTop=function(){return document.body.scrollTop},MuraSelectionWrapper.prototype.offset=function(a,b){if(this.selection.length){var c=this.selection[0].getBoundingClientRect();return{top:c.top+(window.pageYOffset||document.scrollTop)-(document.clientTop||0),left:c.left+(window.pageXOffset||document.scrollLeft)-(document.clientLeft||0)}}},MuraSelectionWrapper.prototype.attr=function(a,b){return this.selection.length?"undefined"==typeof b&&"undefined"==typeof a?mura.getAttributes(this.selection[0]):"object"==typeof a?(this.each(function(b){for(var c in a)b.setAttribute(c,a[c])}),this):"undefined"!=typeof b?(this.each(function(c){c.setAttribute(a,b)}),this):this.selection[0].getAttribute(a):void 0},MuraSelectionWrapper.prototype.data=function(a,b){return this.selection.length?"undefined"==typeof b&&"undefined"==typeof a?mura.getDataAttributes(this.selection[0]):"object"==typeof a?(this.each(function(b){for(var c in a)b.setAttribute("data-"+c,a[c])}),this):"undefined"!=typeof b?(this.each(function(c){c.setAttribute("data-"+a,b)}),this):this.selection[0].getAttribute("data-"+a):void 0},MuraSelectionWrapper.prototype.fadeOut=function(){return this.each(function(a){a.style.opacity=1,function b(){(a.style.opacity-=.1)<0?a.style.display="none":requestAnimationFrame(b)}()}),this},MuraSelectionWrapper.prototype.fadeIn=function(a){return this.each(function(b){b.style.opacity=0,b.style.display=a||"block",function c(){var a=parseFloat(b.style.opacity);(a+=.1)>1||(b.style.opacity=a,requestAnimationFrame(c))}()}),this},MuraSelectionWrapper.prototype.fadeIn=function(a){return this.each(function(b){b.style.opacity=0,b.style.display=a||"block",function c(){var a=parseFloat(b.style.opacity);(a+=.1)>1||(b.style.opacity=a,requestAnimationFrame(c))}()}),this},MuraSelectionWrapper.prototype.toggle=function(){return this.each(function(a){"undefined"==typeof a.style.display||""==a.style.display?a.style.display="none":a.style.display="";
}),this},function(a,b){var c=function(c){c.context||(c.context=""),c.assetpath||(c.assetpath=c.context),c.apiEndpoint||(c.apiEndpoint=c.context+"/index.cfm/_api/json/v1/"),c.requirementspath||(c.requirementspath=c.context+"/requirements"),"undefined"==typeof c.adminpreview&&(c.adminpreview=!1),"undefined"==typeof c.mobileformat&&(c.mobileformat=!1),"undefined"!=typeof c.windowdocumentdomain&&""!=c.windowdocumentdomain&&(a.document.domain=c.windowdocumentdomain);var d=function(a,b){for(var c=document.createElement(b),d=0,e=a.attributes,f=e.length;f>d;++d)oldEl.setAttribute(e[d].name,e[d].value);for(;a.hasChildNodes();)c.appendChild(a.firstChild);return a.parentNode.replaceChild(c,oldEl),c},e=function(a){"loading"!=document.readyState?a.call(document):document.addEventListener("DOMContentLoaded",function(b){a.call(b.target,b)})},f=function(a,b){return new Promise(function(c,d){return h({type:"get",url:a,data:b,success:function(a){c(a)},error:function(a){d(a)}})})},g=function(a,b){return new Promise(function(c,d){return h({type:"post",url:a,data:b,success:function(a){c(a)},error:function(a){d(a)}})})},h=function(a){"type"in a||(a.type="GET"),"success"in a||(a.success=function(){}),"error"in a||(a.error=function(){}),"data"in a||(a.data={}),"xhrFields"in a||(a.xhrFields={withCredentials:!0}),"crossDomain"in a||(a.crossDomain=!0),"async"in a||(a.async=!0),"headers"in a||(a.headers={});var b=new XMLHttpRequest;if(!a.crossDomain||"withCredentials"in b||"undefined"==typeof XDomainRequest||(b=new XDomainRequest),b.onload=function(){if(b.status>=200&&b.status<400){try{var c=JSON.parse(b.responseText)}catch(d){var c=b.responseText}a.success(c)}else a.error(b)},b.onerror=a.onerror,"post"==a.type.toLowerCase()){b.open(a.type.toUpperCase(),a.url,a.async);for(var c in a.xhrFields)c in b&&(b[c]=a.xhrFields[c]);for(var d in a.headers)b.setRequestHeader(c,a.headers[d]);if(a.data instanceof FormData)b.send(a.data);else{b.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var e=[];for(var f in a.data)e.push(encodeURIComponent(f)+"="+encodeURIComponent(a.data[f]));e=e.join("&"),b.send(e)}}else{-1==a.url.indexOf("?")&&(a.url+="?");var e=[];for(var f in a.data)e.push(encodeURIComponent(f)+"="+encodeURIComponent(a.data[f]));e=e.join("&"),b.open(a.type.toUpperCase(),a.url+"&"+e,a.async);for(var c in a.xhrFields)c in b&&(b[c]=a.xhrFields[c]);for(var d in a.headers)b.setRequestHeader(c,a.headers[d]);b.send()}},k=function(a,b){q(a).each(b)},l=function(a,b,c){"ready"==b?e(c):"function"==typeof a.addEventListener&&a.addEventListener(b,function(b){c.call(a,b)},!0)},m=function(a,b){a.removeEventListener(b)},n=function(a){if("object"==typeof a&&Array.isArray(a))var b=a;else if("string"==typeof a)var b=p(document.querySelectorAll(a));else if(a instanceof NodeList||a instanceof HTMLCollection)var b=p(a);else var b=[a];return"undefined"==typeof b.length&&(b=[]),b},o=function(a){return"object"!=typeof a||0==Object.keys(a).length},p=function(a){for(var b=[],c=a.length;c--;b.unshift(a[c]));return b},q=function(a){return new MuraSelectionWrapper(n(a),a)},r=function(a,b){var c;if(a.ownerDocument)c=a.ownerDocument;else{if(9!=a.nodeType)throw new Error("Invalid node passed to fireEvent: "+a.id);c=a}if(a.dispatchEvent){var d="";switch(b){case"click":case"mousedown":case"mouseup":d="MouseEvents";break;case"focus":case"change":case"blur":case"select":d="HTMLEvents";break;default:d="Custom"}if("Custom"==d)var e=new Event("Event");else var e=c.createEvent(d);var f="change"==b?!1:!0;e.initEvent(b,f,!0),e.synthetic=!0,a.dispatchEvent(e,!0)}else if(node.fireEvent){var e=c.createEventObject();e.synthetic=!0,a.fireEvent("on"+b,e)}},s=function(a){var b=document.implementation.createHTMLDocument();return b.body.innerHTML=a,b.body.children},t=function(a){var b={};return Array.prototype.forEach.call(a.attributes,function(a){/^data-/.test(a.name)&&(b[a.name.substr(5)]=a.value)}),b},u=function(a){var b,c={};if("object"==typeof a&&"FORM"==a.nodeName){var d=a.elements.length;for(i=0;i<d;i++)if(b=a.elements[i],b.name&&!b.disabled&&"file"!=b.type&&"reset"!=b.type&&"submit"!=b.type&&"button"!=b.type)if("select-multiple"==b.type)for(j=a.elements[i].options.length-1;j>=0;j--)b.options[j].selected&&(c[c.name]=b.options[j].value);else("checkbox"!=b.type&&"radio"!=b.type||b.checked)&&(c[b.name]=b.value)}return c},v=function(a){a=a||{};for(var b=1;b<arguments.length;b++)if(arguments[b])for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a},w=function(a){a=a||{};for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c)for(var d in c)c.hasOwnProperty(d)&&("object"==typeof c[d]?w(a[d],c[d]):a[d]=c[d])}return a},x=function(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"},y=function(a){return escape(a).replace(new RegExp("\\+","g"),"%2B")},z=function(b){var c=a.onload;"function"!=typeof a.onload?a.onload=b:a.onload=function(){c(),b()}},A=function(b,c){locationstring="mailto:"+b+"@"+c,a.location=locationstring},B=function(b){var d=function(){var c=a.CKEDITOR.instances[b.getAttribute("id")],d={height:200,width:"70%"};b.getAttribute("data-editorconfig")&&v(d,b.getAttribute("data-editorconfig")),c&&(c.destroy(),CKEDITOR.remove(c)),a.CKEDITOR.replace(b.getAttribute("id"),f(d),e)},e=function(b){b.resetDirty();a.CKEDITOR.instances},f=function(a){var b={toolbar:"htmlEditor",customConfig:"config.js.cfm"};return"object"==typeof a&&v(b,a),b};H().loadjs(c.requirementspath+"/ckeditor/ckeditor.js",function(){d()})},C="",D=function(a){if(27==a?C=a.toString():76==a&&(C=C+""+a.toString()),27!=a&&76!=a&&(C=""),""!=C){var b=C,d="",e="";-1!=b.indexOf("2776")&&-1==location.search.indexOf("display=login")&&(d="undefined"!=typeof c.loginURL?c.loginURL:"undefined"!=typeof c.loginurl?c.loginurl:"?display=login",e="undefined"!=typeof c.returnURL?c.returnURL:"undefined"!=typeof c.returnurl?c.returnURL:location.href,C="",d=new String(d),-1!=d.indexOf("?")?location.href=d+"&returnUrl="+y(e):location.href=d+"?returnUrl="+y(e))}},E=function(b){null!==b.querySelectorAll('[data-rel^="shadowbox"],[rel^="shadowbox"]')&&H().load(c.assetpath+"/css/shadowbox.min.css",c.assetpath+"/js/adapter/shadowbox-jquery.min.js",c.assetpath+"/js/shadowbox.min.js",function(){a.Shadowbox.init()})},F=function(a,d){for(var e=function(a){return a.getAttribute("data-label")!=b?a.getAttribute("data-label"):a.getAttribute("label")!=b?a.getAttribute("label"):a.getAttribute("name")},f=function(a){return a.getAttribute("data-required")!=b?"true"==a.getAttribute("data-required").toLowerCase():a.getAttribute("required")!=b?"true"==a.getAttribute("required").toLowerCase():!1},g=function(a,c){return a.getAttribute("data-message")!=b?a.getAttribute("data-message"):a.getAttribute("message")!=b?a.getAttribute("message"):e(a).toUpperCase()+c},i=function(a){return a.getAttribute("data-validate")!=b?a.getAttribute("data-validate").toUpperCase():a.getAttribute("validate")!=b?a.getAttribute("validate").toUpperCase():""},j=function(a){return a.getAttribute("data-matchfield")!=b&&""!=a.getAttribute("data-matchfield")?!0:a.getAttribute("matchfield")!=b&&""!=a.getAttribute("matchfield")?!0:!1},k=function(a){return a.getAttribute("data-matchfield")!=b?a.getAttribute("data-matchfield"):a.getAttribute("matchfield")!=b?a.getAttribute("matchfield"):""},l=function(a){return a.value==b?!1:a.getAttribute("data-regex")!=b&&""!=a.getAttribute("data-regex")?!0:a.getAttribute("regex")!=b&&""!=a.getAttribute("regex")?!0:void 0},m=function(a){return a.getAttribute("data-regex")!=b?a.getAttribute("data-regex"):a.getAttribute("regex")!=b?a.getAttribute("regex"):""},n=a,o="",p={properties:{}},q=n.getElementsByTagName("input"),r=new Array,s={},t=d,u=0;u<q.length;u++){var v=q[u];o=i(v).toUpperCase(),r=new Array,""==v.style.display&&(f(v)&&r.push({required:!0,message:g(v," is required.")}),""!=o&&("EMAIL"==o&&""!=v.value?r.push({dataType:"EMAIL",message:g(v," must be a valid email address.")}):"NUMERIC"==o&&""!=v.value?r.push({dataType:"NUMERIC",message:g(v," must be numeric.")}):"REGEX"==o&&""!=v.value&&l(v)?r.push({regex:m(v),message:g(v," is not valid.")}):"MATCH"==o&&j(v)&&v.value!=n[k(v)].value?r.push({eq:n[k(v)].value,message:g(v," must match"+k(v)+".")}):"DATE"==o&&""!=v.value&&r.push({dataType:"DATE",message:g(v," must be a valid date [MM/DD/YYYY].")})),r.length&&(p.properties[v.getAttribute("name")]=r,s[v.getAttribute("name")]=v.value))}var w=n.getElementsByTagName("textarea");for(u=0;u<w.length;u++)v=w[u],o=i(v),r=new Array,""==v.style.display&&f(v)?r.push({required:!0,message:g(v," is required.")}):""!=o&&"REGEX"==o&&""!=v.value&&l(v)&&r.push({regex:m(v),message:g(v," is not valid.")}),r.length&&(p.properties[v.getAttribute("name")]=r,s[v.getAttribute("name")]=v.value);var x=n.getElementsByTagName("select");for(u=0;u<x.length;u++)v=x[u],o=i(v),r=new Array,""==v.style.display&&f(v)&&r.push({required:!0,message:g(v," is required.")}),r.length&&(p.properties[v.getAttribute("name")]=r,s[v.getAttribute("name")]=v.value);try{console.log(s),console.log(p),h({type:"post",url:c.apiEndpoint+"?method=validate",data:{data:y(JSON.stringify(s)),validations:y(JSON.stringify(p)),version:4},success:function(a){if(s=a.data,0===Object.keys(s).length){if("function"==typeof t)return t(n),!1;n.submit()}else{var b="";for(var c in s)b=b+s[c]+"\n";alert(b)}},error:function(a){alert(JSON.stringify(a))}})}catch(z){console.log(z)}return!1},G=function(a){for(var b in a)b!==b.toLowerCase()&&(a[b.toLowerCase()]=a[b],delete a[b]),"object"==typeof a[b.toLowerCase()]&&G(a[b.toLowerCase()]);return a},H=function(){return a.ljs},I=function(b){for(var d=[function(){k(b.querySelectorAll(".mura-async-object"),function(a){K(a)})},function(){k(b.querySelectorAll(".htmlEditor"),function(a){B(a)})},function(){if(b.querySelectorAll(".cffp_applied").length||b.querySelectorAll(".cffp_mm").length||b.querySelectorAll(".cffp_kp").length){var a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src",c.requirementspath+"/cfformprotect/js/cffp.js"),document.getElementsByTagName("head")[0].appendChild(a)}},function(){if(b.querySelectorAll(".g-recaptcha").length){var d=document.createElement("script");d.setAttribute("type","text/javascript"),d.setAttribute("src","https://www.google.com/recaptcha/api.js?hl="+c.reCAPTCHALanguage),document.getElementsByTagName("head")[0].appendChild(d)}b.querySelectorAll(".g-recaptcha-container").length&&H().loadjs("https://www.google.com/recaptcha/api.js?hl="+c.reCAPTCHALanguage,function(){k(b.querySelectorAll(".g-recaptcha-container"),function(b){var c=b,d=function(){"object"==typeof grecaptcha?grecaptcha.render(c.getAttribute("id"),{sitekey:c.getAttribute("data-sitekey"),theme:c.getAttribute("data-theme"),type:c.getAttribute("data-type")}):a.setTimeout(function(){d()},10)};d()})})},function(){"function"==typeof resizeEditableObject&&(q(b).closest(".editableObject").each(function(){resizeEditableObject(this)}),q(b).find(".frontEndToolsModal").each(function(){l(this,"click",function(a){a.preventDefault(),openFrontEndToolsModal(this)})}),q(b).find(".editableObject").each(function(){resizeEditableObject(this)}))},function(){E(b)},function(){("yes"==c.adminpreview||"true"==c.adminpreview)&&q("a").each(function(){var a=this.getAttribute("href");-1==a.indexOf("muraadminpreview")&&(a+=-1!=a.indexOf("?")?"&muraadminpreview&mobileformat="+c.mobileformat:"?muraadminpreview&muraadminpreview&mobileformat="+c.mobileformat,this.setAttribute("href",a))})}],e=0;e<d.length;e++)d[e]()},J=function(a,b){if("object"==typeof a)for(var c in a)l(document,c,a[c]);else l(document,a,b)},K=function(a){var b=a,d=function(a){var c=function(a){b.innerHTML=a,I(b),k(b.getElementsByTagName("FORM"),function(a,b){a.onsubmit=function(){return e(this)}}),q(b).trigger("asyncObjectRendered")};"html"in a.data?c(a.data.html):"redirect"in a.data?location.href=a.data.redirect:"render"in a.data&&h({type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,url:a.data.render,data:a.data,success:function(a){"string"==typeof a?c(a):"object"==typeof a&&"html"in a?c(a.html):"object"==typeof a&&"data"in a&&"html"in a.data&&c(a.data.html)}})},e=function(a){if("undefined"!=typeof FormData&&"multipart/form-data"==$(a).attr("enctype")){var e=new FormData(a),f=G(u(a)),g=w({siteid:c.siteid,contentid:c.contentid,contenthistid:c.contenthistid,nocache:1},G(t(b)));for(var i in g)i in f||e.append(i,g[i]);"objectparams"in f&&e.append("objectparams2",y(JSON.stringify(b.getAttribute("data-objectparams")))),"nocache"in f&&e.append("nocache",1);var j={url:c.apiEndpoint+"?method=processAsyncObject",type:"POST",data:e,success:d}}else{var e=w(G(u(a)),{siteid:c.siteid,contentid:c.contentid,contenthistid:c.contenthistid,nocache:1},G(t(b)));"g-recaptcha-response"in e||!document.querySelectorAll("#g-recaptcha-response").length||(e["g-recaptcha-response"]=document.getElementById("recaptcha-response").value),"objectparams"in e&&(e.objectparams=y(JSON.stringify(e.objectparams)));var j={url:c.apiEndpoint+"?method=processAsyncObject",type:"POST",data:e,success:d}}return F(a,function(a){b.innerHTML=c.preloaderMarkup,h(j)}),!1},f=w({siteid:c.siteid,contentid:c.contentid,contenthistid:c.contenthistid,nocache:c.nocache},G(t(b)));"objectparams"in f&&(f.objectparams=y(JSON.stringify(f.objectparams))),b.innerHTML=c.preloaderMarkup,h({url:c.apiEndpoint+"?method=processAsyncObject",type:"get",data:f,success:d})};return v(c,{processAsyncObject:K,setLowerCaseKeys:G,noSpam:A,addLoadEvent:z,loader:H,addEventHandler:J,trigger:r,ready:e,on:l,off:m,extend:v,post:g,get:f,deepExtend:w,ajax:h,changeElementType:d,each:k,parseHTML:s,getDataAttributes:t,isEmptyObject:o}),c.validateForm=F,v(a,{mura:v(function(a){return q(a)},c),validateForm:F,setHTMLEditor:B,createCookie:x,addLoadEvent:z,noSpam:A}),e(function(){I(document),q(document).on("keydown",function(a){D(a.which)}),q(document).trigger("muraReady")}),c};a.initMura=c}(window);