window.Prototype&&(delete Object.prototype.toJSON,delete Array.prototype.toJSON,delete Hash.prototype.toJSON,delete String.prototype.toJSON),this.JSON||(JSON=function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapeable.lastIndex=0,escapeable.test(e)?'"'+e.replace(escapeable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+(+e.charCodeAt(0)).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var a,n,r,i,o=gap,s,d=t[e];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(e)),"function"==typeof rep&&(d=rep.call(t,e,d)),typeof d){case"string":return quote(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(gap+=indent,s=[],"number"==typeof d.length&&!d.propertyIsEnumerable("length")){for(i=d.length,a=0;i>a;a+=1)s[a]=str(a,d)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+o+"]":"["+s.join(",")+"]",gap=o,r}if(rep&&"object"==typeof rep)for(i=rep.length,a=0;i>a;a+=1)n=rep[a],"string"==typeof n&&(r=str(n,d,rep),r&&s.push(quote(n)+(gap?": ":":")+r));else for(n in d)Object.hasOwnProperty.call(d,n)&&(r=str(n,d,rep),r&&s.push(quote(n)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+o+"}":"{"+s.join(",")+"}",gap=o,r}}Date.prototype.toJSON=function(e){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapeable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;return{stringify:function(e,t,a){var n;if(gap="",indent="","number"==typeof a)for(n=0;a>n;n+=1)indent+=" ";else"string"==typeof a&&(indent=a);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})},parse:function(text,reviver){function walk(e,t){var a,n,r=e[t];if(r&&"object"==typeof r)for(a in r)Object.hasOwnProperty.call(r,a)&&(n=walk(r,a),void 0!==n?r[a]=n:delete r[a]);return reviver.call(e,t,r)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+(+e.charCodeAt(0)).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}}()),function(e,t){var a=function(t){(e.execScript||function(t){e.eval.call(e,t)})(t)},n=function(e,t){return e instanceof(t||Array)},r=document,i="getElementsByTagName",o="length",s="readyState",d="onreadystatechange",c=r[i]("script"),u=c[c[o]-1],l=u.innerHTML.replace(/^\s+|\s+$/g,"");if(!e.ljs){var f=u.src.match(/checkLoaded/)?1:0,p=r[i]("head")[0]||r.documentElement,g=function(e){var t={};return t.u=e.replace(/#(=)?([^#]*)?/g,function(e,a,n){return t[a?"f":"i"]=n,""}),t},h=function(e,t,a){var n=r.createElement(e),i;a&&(n[s]?n[d]=function(){("loaded"===n[s]||"complete"===n[s])&&(n[d]=null,a())}:n.onload=a);for(i in t)t[i]&&(n[i]=t[i]);p.appendChild(n)},m=function(e,t){if(this.aliases&&this.aliases[e]){var a=this.aliases[e].slice(0);return n(a)||(a=[a]),t&&a.push(t),this.load.apply(this,a)}if(n(e)){for(var r=e[o];r--;)this.load(e[r]);return t&&e.push(t),this.load.apply(this,e)}return e.match(/\.css\b/)?this.loadcss(e,t):this.loadjs(e,t)},y={},v={aliases:{},loadjs:function(e,a,n){if("object"==typeof e){if(Array.isArray(e))return v.load.apply(this,arguments);if("function"==typeof a)n=a,a={},e=a.href;else{if("string"==typeof a||"object"==typeof a&&Array.isArray(a))return v.load.apply(this,arguments);a=e,e=a.href,n=t}}else if("function"==typeof a)n=a,a={};else if("string"==typeof a||"object"==typeof a&&Array.isArray(a))return v.load.apply(this,arguments);"undefined"==typeof a&&(a={});for(var r=g(e),i=[["i","id"],["f","fallback"],["u","src"]],o=0;o<i.length;o++){var s=i[o];!(s[1]in a)&&s[0]in r&&(a[s[1]]=r[s[0]])}"undefined"==typeof a.type&&(a.type="text/javascript");var d={};for(var c in a)"fallback"!=c&&(d[c]=a[c]);return d.onerror=function(e){if(a.fallback){var t=e.currentTarget;t.parentNode.removeChild(t),d.src=a.fallback,h("script",a,n)}},y[d.src]===!0?(n&&n(),this):y[d.src]!==t?(n&&(y[d.src]=function(e,t){return function(){e&&e(),t&&t()}}(y[d.src],n)),this):(y[d.src]=function(e){return function(){y[d.src]=!0,e&&e()}}(n),n=function(){y[e]()},h("script",d,n),this)},loadcss:function(e,a,n){if("object"==typeof e){if(Array.isArray(e))return v.load.apply(this,arguments);if("function"==typeof a)n=a,a=e,e=a.href;else{if("string"==typeof a||"object"==typeof a&&Array.isArray(a))return v.load.apply(this,arguments);a=e,e=a.href,n=t}}else if("function"==typeof a)n=a,a={};else if("string"==typeof a||"object"==typeof a&&Array.isArray(a))return v.load.apply(this,arguments);var r=g(e);if(r={type:"text/css",rel:"stylesheet",href:e,id:r.i},"undefined"!=typeof a)for(var i in a)r[i]=a[i];return y[r.href]||h("link",r),y[r.href]=!0,n&&n(),this},load:function(){var e=arguments,a=e[o];return 1===a&&n(e[0],Function)?(e[0](),this):(m.call(this,e[0],1>=a?t:function(){v.load.apply(v,[].slice.call(e,1))}),this)},addAliases:function(e){for(var t in e)this.aliases[t]=n(e[t])?e[t].slice(0):e[t];return this}};if(f){var b,j,w,A;for(b=0,j=c[o];j>b;b++)(A=c[b].getAttribute("src"))&&(y[A.replace(/#.*$/,"")]=!0);for(w=r[i]("link"),b=0,j=w[o];j>b;b++)("stylesheet"===w[b].rel||"text/css"===w[b].type)&&(y[w[b].getAttribute("href").replace(/#.*$/,"")]=!0)}e.ljs=v}l&&a(l)}(window),function($){$.fn.serializeObject=function(){var e=this,t={},a={},n={validate:/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_]+$/};return this.build=function(e,t,a){return e[t]=a,e},this.push_counter=function(e){return void 0===a[e]&&(a[e]=0),a[e]++},$.each($(this).serializeArray(),function(){if(n.validate.test(this.name)){for(var a,r=this.name.match(n.key),i=this.value,o=this.name;void 0!==(a=r.pop());)o=o.replace(new RegExp("\\["+a+"\\]$"),""),a.match(n.push)?i=e.build([],e.push_counter(o),i):a.match(n.fixed)?i=e.build([],a,i):a.match(n.named)&&(i=e.build({},a,i));t=$.extend(!0,t,i)}}),t}}(jQuery),$.fn.changeElementType=function(e){var t={};$.each(this[0].attributes,function(e,a){t[a.nodeName]=a.value});var a=$("<"+e+"/>",t).append($(this).contents());return this.replaceWith(a),a},Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=a.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var i=[],o,s;for(o in r)e.call(r,o)&&i.push(o);if(t)for(s=0;n>s;s++)e.call(r,a[s])&&i.push(a[s]);return i}}());var initMura=function(config){!window.jQuery&&document.write(unescape('%3Cscript type="text/javascript" src="'+config.assetpath+'/jquery/jquery.js"%3E%3C/script%3E')),config.context||(config.context=""),config.assetpath||(config.assetpath=config.context),config.apiEndpoint||(config.apiEndpoint=config.context+"/index.cfm/_api/json/v1/"),config.requirementspath||(config.requirementspath=config.context+"/requirements"),"undefined"==typeof config.adminpreview&&(config.adminpreview=!1),"undefined"==typeof config.mobileformat&&(config.mobileformat=!1),"undefined"!=typeof config.windowdocumentdomain&&""!=config.windowdocumentdomain&&(window.document.domain=config.windowdocumentdomain);var createCookie=function(e,t,a){if(a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var r="; expires="+n.toGMTString()}else var r="";document.cookie=e+"="+t+r+"; path=/"},readCookie=function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var r=a[n];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return unescape(r.substring(t.length,r.length))}return""},eraseCookie=function(e){createCookie(e,"",-1)},addLoadEvent=function(e){var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t(),e()}},noSpam=function(e,t){locationstring="mailto:"+e+"@"+t,window.location=locationstring},$escape=function(e){return escape(e).replace(new RegExp("\\+","g"),"%2B")},setHTMLEditor=function(e){var t=function(){var t=CKEDITOR.instances[$(e).attr("id")],r={height:200,width:"70%"};$(e).data("editorconfig")&&$.extend(r,$(e).data("editorconfig")),t&&(t.destroy(),CKEDITOR.remove(t)),$("#"+$(e).attr("id")).ckeditor(n(r),a)},a=function(e){var t=jQuery(e).ckeditorGet();t.resetDirty();var a=CKEDITOR.instances},n=function(e){var t="",a={toolbar:"htmlEditor",customConfig:"config.js.cfm"};return"object"==typeof e&&$.extend(a,e),a};loader().loadjs(config.requirementspath+"/ckeditor/ckeditor.js",config.requirementspath+"/ckeditor/adapters/jquery.js",function(){t()})},pressed_keys="",loginCheck=function(e){if(27==e?pressed_keys=e.toString():76==e&&(pressed_keys=pressed_keys+""+e.toString()),27!=e&&76!=e&&(pressed_keys=""),""!=pressed_keys){var t=pressed_keys;-1!=t.indexOf("2776")&&-1==location.search.indexOf("display=login")&&("undefined"!=typeof config.loginURL?lu=config.loginURL:"undefined"!=typeof config.loginurl?lu=config.loginurl:lu="?display=login","undefined"!=typeof config.returnURL?ru=config.returnURL:"undefined"!=typeof config.returnurl?ru=config.returnURL:ru=location.href,pressed_keys="",lu=new String(lu),-1!=lu.indexOf("?")?location.href=lu+"&returnUrl="+$escape(ru):location.href=lu+"?returnUrl="+$escape(ru))}},isInteger=function(e){var t;for(t=0;t<e.length;t++){var a=e.charAt(t);if("0">a||a>"9")return!1}return!0},createDate=function(e){var t=e.split("/"),a=t[0],n=t[1],r=t[2],i=new Date(r,a-1,n);return isNaN(i.getMonth())?new Date:i},dateToString=function(e){var t=e.getMonth()+1,a=e.getDate(),n=e.getFullYear();return 10>t&&(t="0"+t),10>a&&(a="0"+a),t+"/"+a+"/20"+new String(n).substring(2,4)},stripCharsInBag=function(e,t){var a,n="";for(a=0;a<e.length;a++){var r=e.charAt(a);-1==t.indexOf(r)&&(n+=r)}return n},daysInFebruary=function(e){return e%4!=0||e%100==0&&e%400!=0?28:29},DaysArray=function(e){for(var t=1;e>=t;t++)this[t]=31,(4==t||6==t||9==t||11==t)&&(this[t]=30),2==t&&(this[t]=29);return this},isDate=function(e,t){var a=DaysArray(12),n=e.split(config.dtCh);if(3!=n.length)return!1;var r=n[config.dtFormat[0]],i=n[config.dtFormat[1]],o=n[config.dtFormat[2]];strYr=o,"0"==i.charAt(0)&&i.length>1&&(i=i.substring(1)),"0"==r.charAt(0)&&r.length>1&&(r=r.substring(1));for(var s=1;3>=s;s++)"0"==strYr.charAt(0)&&strYr.length>1&&(strYr=strYr.substring(1));return month=parseInt(r),day=parseInt(i),year=parseInt(strYr),month<1||month>12?!1:day<1||day>31||2==month&&day>daysInFebruary(year)||day>a[month]?!1:4!=o.length||0==year||year<config.minYear||year>config.maxYear?!1:0==isInteger(stripCharsInBag(e,config.dtCh))?!1:!0},isEmail=function(e){var t=e;return-1==t.indexOf("@")||-1==t.indexOf(".")?!1:!0},initShadowBox=function(e){$(e).find('[data-rel^="shadowbox"],[rel^="shadowbox"]').length&&loader().load([mura.assetpath+"/css/shadowbox.min.css",mura.assetpath+"/js/external/shadowbox/shadowbox.min.js",mura.assetpath+"/js/external/shadowbox/shadowbox-jquery.min.js"],function(){window.Shadowbox.init()})},validateForm=function(frm,customaction){for(var getValidationFieldName=function(e){return void 0!=e.getAttribute("data-label")?e.getAttribute("data-label"):void 0!=e.getAttribute("label")?e.getAttribute("label"):e.getAttribute("name")},getValidationIsRequired=function(e){return void 0!=e.getAttribute("data-required")?"true"==e.getAttribute("data-required").toLowerCase():void 0!=e.getAttribute("required")?"true"==e.getAttribute("required").toLowerCase():!1},getValidationMessage=function(e,t){return void 0!=e.getAttribute("data-message")?e.getAttribute("data-message"):void 0!=e.getAttribute("message")?e.getAttribute("message"):getValidationFieldName(e).toUpperCase()+t},getValidationType=function(e){return void 0!=e.getAttribute("data-validate")?e.getAttribute("data-validate").toUpperCase():void 0!=e.getAttribute("validate")?e.getAttribute("validate").toUpperCase():""},hasValidationMatchField=function(e){return void 0!=e.getAttribute("data-matchfield")&&""!=e.getAttribute("data-matchfield")?!0:void 0!=e.getAttribute("matchfield")&&""!=e.getAttribute("matchfield")?!0:!1},getValidationMatchField=function(e){return void 0!=e.getAttribute("data-matchfield")?e.getAttribute("data-matchfield"):void 0!=e.getAttribute("matchfield")?e.getAttribute("matchfield"):""},hasValidationRegex=function(e){return void 0==e.value?!1:void 0!=e.getAttribute("data-regex")&&""!=e.getAttribute("data-regex")?!0:void 0!=e.getAttribute("regex")&&""!=e.getAttribute("regex")?!0:void 0},getValidationRegex=function(e){return void 0!=e.getAttribute("data-regex")?e.getAttribute("data-regex"):void 0!=e.getAttribute("regex")?e.getAttribute("regex"):""},theForm=frm,errors="",setFocus=0,started=!1,startAt,firstErrorNode,validationType="",validations={properties:{}},frmInputs=theForm.getElementsByTagName("input"),rules=new Array,data={},$customaction=customaction,f=0;f<frmInputs.length;f++){var theField=frmInputs[f];validationType=getValidationType(theField).toUpperCase(),rules=new Array,""==theField.style.display&&(getValidationIsRequired(theField)&&rules.push({required:!0,message:getValidationMessage(theField," is required.")}),""!=validationType&&("EMAIL"==validationType&&""!=theField.value?rules.push({dataType:"EMAIL",message:getValidationMessage(theField," must be a valid email address.")}):"NUMERIC"==validationType&&""!=theField.value?rules.push({dataType:"NUMERIC",message:getValidationMessage(theField," must be numeric.")}):"REGEX"==validationType&&""!=theField.value&&hasValidationRegex(theField)?rules.push({regex:getValidationRegex(theField),message:getValidationMessage(theField," is not valid.")}):"MATCH"==validationType&&hasValidationMatchField(theField)&&theField.value!=theForm[getValidationMatchField(theField)].value?rules.push({eq:theForm[getValidationMatchField(theField)].value,message:getValidationMessage(theField," must match"+getValidationMatchField(theField)+".")}):"DATE"==validationType&&""!=theField.value&&rules.push({dataType:"DATE",message:getValidationMessage(theField," must be a valid date [MM/DD/YYYY].")})),rules.length&&(validations.properties[theField.getAttribute("name")]=rules,data[theField.getAttribute("name")]=theField.value))}var frmTextareas=theForm.getElementsByTagName("textarea");for(f=0;f<frmTextareas.length;f++)theField=frmTextareas[f],validationType=getValidationType(theField),rules=new Array,""==theField.style.display&&getValidationIsRequired(theField)?rules.push({required:!0,message:getValidationMessage(theField," is required.")}):""!=validationType&&"REGEX"==validationType&&""!=theField.value&&hasValidationRegex(theField)&&rules.push({regex:getValidationRegex(theField),message:getValidationMessage(theField," is not valid.")}),rules.length&&(validations.properties[theField.getAttribute("name")]=rules,data[theField.getAttribute("name")]=theField.value);var frmSelects=theForm.getElementsByTagName("select");for(f=0;f<frmSelects.length;f++)theField=frmSelects[f],validationType=getValidationType(theField),rules=new Array,""==theField.style.display&&getValidationIsRequired(theField)&&rules.push({required:!0,message:getValidationMessage(theField," is required.")}),rules.length&&(validations.properties[theField.getAttribute("name")]=rules,data[theField.getAttribute("name")]=theField.value);try{jQuery.ajax({type:"post",url:config.apiEndpoint+"?method=validate",dataType:"text",data:{data:$escape(JSON.stringify(data)),validations:$escape(JSON.stringify(validations)),version:4},success:function(resp){var _data=eval("("+resp+")");if(data=_data.data,jQuery.isEmptyObject(data)){if("function"==typeof $customaction)return $customaction(theForm),!1;document.createElement("form").submit.call(theForm)}else{var msg="";for(var e in data)msg=msg+data[e]+"\n";alert(msg)}},error:function(e){alert(JSON.stringify(e))}})}catch(err){console.log(err)}return!1},setLowerCaseKeys=function(e){return $.map(e,function(t,a){a!==a.toLowerCase()&&(e[a.toLowerCase()]=e[a],delete e[a]),"object"==typeof e[a.toLowerCase()]&&setLowerCaseKeys(e[a.toLowerCase()])}),e},loader=function(){return window.ljs},processHandlers=function(e){for(var t=[function(){$(e).find(".mura-async-object").each(function(){processAsyncObject(this)})},function(){$(e).find(".htmlEditor").each(function(){setHTMLEditor(this)})},function(){($(e).find(".cffp_applied").length||$(e).find(".cffp_mm").length||$(e).find(".cffp_kp").length)&&$.getScript(config.requirementspath+"/cfformprotect/js/cffp.js")},function(){$(e).find(".g-recaptcha").length&&$.getScript("https://www.google.com/recaptcha/api.js?hl="+config.reCAPTCHALanguage),$(e).find(".g-recaptcha-container").length&&loader().loadjs("https://www.google.com/recaptcha/api.js?hl="+config.reCAPTCHALanguage,function(){$(e).find(".g-recaptcha-container").each(function(){var e=this,t=function(){"object"==typeof grecaptcha?grecaptcha.render($(e).attr("id"),{sitekey:$(e).data("sitekey"),theme:$(e).data("theme"),type:$(e).data("type")}):window.setTimeout(function(){t()},10)};t()})})},function(){"function"==typeof resizeEditableObject&&($(e).closest(".editableObject").each(function(){resizeEditableObject(this)}),$(e).find(".frontEndToolsModal").each(function(){jQuery(this).click(function(e){e.preventDefault(),openFrontEndToolsModal(this)})}),$(e).find(".editableObject").each(function(){resizeEditableObject(this)}))},function(){initShadowBox(e)},function(){"undefined"!=typeof urlparams.muraadminpreview&&$(e).find("a").attr("href",function(e,t){return"string"==typeof t&&-1==t.indexOf("muraadminpreview")?t+(-1!=t.indexOf("?")?"&muraadminpreview&mobileformat="+config.mobileformat:"?muraadminpreview&muraadminpreview&mobileformat="+config.mobileformat):t})}],a=0;a<t.length;a++)t[a]()},registeredHandlers={},getRegisteredHandlers=function(e){return"undefined"==typeof registeredHandlers[e]&&(registeredHandlers[e]=[]),registeredHandlers[e]},addEventHandler=function(e,t){if("object"==typeof e)for(var a in e)getRegisteredHandlers(a).push(e[a]);else getRegisteredHandlers(e).push(t)},announceEvent=function(e,t){var a=getRegisteredHandlers(e);for(var n in a)a[n].apply(t)},processAsyncObject=function(e){var t=e,a=function(e){$(t).html(e),$(t).find('a[href="javascript:history.back();"]').each(function(){$(this).off("click").on("click",function(e){if(t.prevInnerHTML){if(e.preventDefault(),a(t.prevInnerHTML),t.prevData)for(var n in t.prevData)$('[name="'+n+'"]').val(t.prevData[n]);t.prevInnerHTML=!1,t.prevData=!1}})}),processHandlers(t),$(t).find("form").each(function(){$(this).removeAttr("onsubmit"),$(this).on("submit",function(){return r(document.getElementById($(this).attr("id")))})}),announceEvent("asyncObjectRendered",t),$(t).trigger("asyncObjectRendered")},n=function(e){"html"in e.data?a(e.data.html):"redirect"in e.data?location.href=e.data.redirect:"render"in e.data&&$.ajax({type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,url:e.data.render,data:e.data,success:function(e){"string"==typeof e?a(e):"object"==typeof e&&"html"in e&&a(e.html)}})},r=function(e){if("undefined"!=typeof FormData&&"multipart/form-data"==$(e).attr("enctype")){var a=new FormData(e),r=setLowerCaseKeys($(e).serializeObject()),i=$.extend(!0,setLowerCaseKeys($(t).data()),urlparams,{siteid:config.siteid,contentid:config.contentid,contenthistid:config.contenthistid,nocache:1});for(var o in i)o in r||a.append(o,i[o]);"objectparams"in r&&a.append("objectparams2",$escape(JSON.stringify($(t).data("objectparams")))),"nocache"in r&&a.append("nocache",1);var s={url:config.apiEndpoint+"?method=processAsyncObject",type:"POST",data:a,processData:!1,contentType:!1,dataType:"JSON"}}else{var a=$.extend(!0,setLowerCaseKeys($(t).data()),urlparams,setLowerCaseKeys($(e).serializeObject()),{siteid:config.siteid,contentid:config.contentid,contenthistid:config.contenthistid,nocache:1});"g-recaptcha-response"in a||!$("#g-recaptcha-response").length||(a["g-recaptcha-response"]=$("#g-recaptcha-response").val()),"objectparams"in a&&(a.objectparams=$escape(JSON.stringify(a.objectparams)));var s={url:config.apiEndpoint+"?method=processAsyncObject",type:"POST",data:a,dataType:"JSON"}}return validateForm(e,function(e){t.prevInnerHTML=t.innerHTML,t.prevData=a,$(t).html(config.preloaderMarkup),$.ajax(s).then(n)}),!1},i=$.extend(!0,$(t).data(),urlparams,{siteid:config.siteid,contentid:config.contentid,contenthistid:config.contenthistid});"objectparams"in i&&(i.objectparams=$escape(JSON.stringify(i.objectparams))),$(t).html(config.preloaderMarkup),$.ajax({url:config.apiEndpoint+"?method=processAsyncObject",type:"GET",data:i,dataType:"JSON"}).then(n)};$.extend(config,{processAsyncObject:processAsyncObject,setLowerCaseKeys:setLowerCaseKeys,noSpam:noSpam,addLoadEvent:addLoadEvent,loader:loader,announceEvent:announceEvent,addEventHandler:addEventHandler,createCookie:createCookie,readCookie:readCookie}),config.validateForm=validateForm,$.extend(window,{mura:config,validateForm:validateForm,setHTMLEditor:setHTMLEditor,createCookie:createCookie,readCookie:readCookie,addLoadEvent:addLoadEvent,noSpam:noSpam});var urlparams={},getQueryStringParams=function(e){var t={},a,n=/\+/g,r=/([^&;=]+)=?([^&;]*)/g,i=function(e){return decodeURIComponent(e.replace(n," "))};if("?"==e.substring(0,1))var o=e.substring(1);else var o=e;for(;a=r.exec(o);)t[i(a[1]).toLowerCase()]=i(a[2]);return t},getURLParams=function(){return getQueryStringParams(window.location.search)};return $(function(){urlparams=setLowerCaseKeys(getURLParams()),processHandlers(document),$(document).on("keydown",function(e){loginCheck(e.which)}),$.fn.appendMuraObject=function(e){var t=$('<div class="mura-async-object"></div>');for(var a in args)$.data(t,a,args[a]);return $(this).append(t),processAsyncObject(this),t},$.fn.prependMuraObject=function(e){var t=$('<div class="mura-async-object"></div>');for(var a in args)$.data(t,a,args[a]);return $(this).prepend(t),processAsyncObject(this),t},$(document).trigger("muraReady")}),config};